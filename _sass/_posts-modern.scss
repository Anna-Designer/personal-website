// Posts & Blog Styles
.post-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: $spacing-lg;
}

.post-card {
  position: relative;
  background-size: cover;
  background-position: center;
  aspect-ratio: 3 / 4;
  min-height: 400px; // Fallback for browsers that don't support aspect-ratio
  border-radius: $border-radius-xl;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  box-shadow: $shadow-lg;
  transition: transform $transition-normal, filter $transition-normal, box-shadow $transition-normal;

  &:before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.2) 70%);
    z-index: 1;
  }

  &:hover {
    transform: scale(1.02);
    filter: brightness(1.05);
    box-shadow: $shadow-xl;
    .post-read-btn {
      background: #fff;
      color: #000;
      border-color: #fff;
    }
  }
}

.post-card-link {
  position: absolute;
  inset: 0;
  z-index: 2;
}

.post-card-overlay {
  position: absolute;
  bottom: 0;
  z-index: 3;
  width: 100%;
  padding: $spacing-lg $spacing-md;
  display: flex;
  flex-direction: column;
  gap: $spacing-md;
}

.post-card-tags { display: flex; flex-wrap: wrap; gap: $spacing-xs; }

.post-chip {
  background: rgba(255,255,255,0.15);
  color: #fff;
  font-size: $font-size-xs;
  padding: 4px 10px;
  border-radius: 999px;
  line-height: 1;
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255,255,255,0.3);
  text-transform: lowercase;
}

.post-card-title {
  color: #fff;
  font-size: $font-size-base;
  margin: 0;
  margin-top: 0 !important;
  font-weight: $font-weight-semibold;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.post-read-btn {
  position: relative;
  z-index: 4;
  display: inline-block;
  font-size: $font-size-sm;
  color: #fff;
  font-weight: $font-weight-medium;
  padding: 6px 14px;
  border: 1px solid rgba(255,255,255,0.5);
  border-radius: 999px;
  background: transparent;
  transition: all $transition-fast;
  pointer-events: none; // span inside link wrapper; don't block click
}

// Blog index (enhanced grid + sidebar layout)
.blog-app { padding: 0; }
.blog-layout {
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: $spacing-2xl;
  align-items: start;
}

.blog-main { display: flex; flex-direction: column; gap: $spacing-md; }
.blog-heading { margin: 0 0 $spacing-md; font-size: clamp(1.5rem,3vw,2rem); }

// enforce 2 columns for desktop
#posts-grid.post-grid { grid-template-columns: repeat(auto-fill,minmax(280px,1fr)); }
@media (min-width: 900px){
  #posts-grid.post-grid { grid-template-columns: repeat(2,1fr); }
}

.blog-sidebar { position: sticky; top: 100px; display:flex; flex-direction: column; gap: $spacing-xl; }

.blog-search input { width: 100%; padding: 12px 16px; border: 1px solid rgba(0,0,0,0.15); border-radius: $border-radius-lg; font: inherit; background: #fff; box-shadow: $shadow-sm; }
.blog-search input:focus { outline: 2px solid #000; outline-offset: 2px; }

.filters-heading { margin:0 0 $spacing-sm; font-size: $font-size-sm; text-transform: uppercase; letter-spacing: 0.05em; opacity: .7; }
.tag-filter-list { display:flex; flex-wrap:wrap; gap: 8px; }
.tag-filter-btn { background:#f2f2f4; border:1px solid #e0e0e5; padding:6px 14px; border-radius:999px; font-size:$font-size-xs; cursor:pointer; transition: background $transition-fast, color $transition-fast, border-color $transition-fast; }
.tag-filter-btn:hover { background:#e6e6eb; }
.tag-filter-btn.active { background:#000; color:#fff; border-color:#000; }
.clear-filters-btn { margin-top:$spacing-sm; background:none; border:none; color:#555; font-size:$font-size-xs; text-decoration:underline; cursor:pointer; }
.clear-filters-btn:hover { color:#000; }

.post-excerpt { color:#fff; font-size:$font-size-sm; margin:0; line-height:1.4; opacity:.9; }
.post-meta-line { font-size:$font-size-xs; color:rgba(255,255,255,0.75); }

.pagination { display:flex; flex-wrap:wrap; gap:6px; margin-top:$spacing-xl; }
.page-btn { background:#f2f2f4; border:1px solid #e0e0e5; padding:6px 12px; border-radius:8px; font-size:$font-size-xs; cursor:pointer; transition: background $transition-fast, color $transition-fast, border-color $transition-fast; }
.page-btn:hover:not(:disabled) { background:#e6e6eb; }
.page-btn.active { background:#000; color:#fff; border-color:#000; }
.page-btn:disabled { opacity:.4; cursor:not-allowed; }
.page-ellipsis { padding:6px 4px; font-size:$font-size-xs; opacity:.6; }
.no-results { padding:$spacing-lg; background:#f7f7f9; border:1px solid #e5e5ea; border-radius:$border-radius-lg; font-size:$font-size-sm; }

// Blog page specific overrides (moved from inline style in blog.html)
.blog-app .blog-container-full { max-width:none; width:100%; }
.blog-app .post-grid { max-width:1600px; margin:0; }
.blog-app .post-card .post-meta-line { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.blog-app .reading-time-bullet::before { content:'\2022'; /* bullet */ opacity:.65; }

// Utilities
.visually-hidden { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }

// Responsive adjustments
@media (max-width: 1100px){
  .blog-layout { gap: $spacing-3xl; }
}
@media (max-width: 900px){
  .blog-layout { grid-template-columns: 1fr; }
  .blog-sidebar { position: static; order: -1; }
}

// (Blog index specific styles were removed to restore initial state)

// Post layout hero
.post-article {
  .post-hero { position: relative; min-height: 300px; display: flex; align-items: flex-end; }
  .post-hero-bg { position: absolute; inset:0; background-size: cover; background-position: center; filter: brightness(0.7); }
  .post-hero-overlay { position: relative; width:100%; padding: $spacing-4xl 0 $spacing-3xl; }
  .post-meta { color:#fff; }
  .post-tags { display:flex; flex-wrap:wrap; gap:$spacing-xs; margin-bottom:$spacing-md; }
  .post-title { color:#fff; margin:0 0 $spacing-xs; font-size: clamp(2rem,5vw,3rem); }
  .post-date { color: rgba(255,255,255,0.7); font-size:$font-size-sm; }
  .post-content { padding: $spacing-3xl 0; }
}

// New post layout 2/1 grid
.post-layout { padding-top: 120px; }
.post-body-container { padding-bottom: $spacing-5xl; }
.post-grid-2col { display:grid; grid-template-columns: minmax(0,2fr) minmax(260px,1fr); gap:$spacing-4xl; align-items:start; }
@media (max-width: 1000px){ .post-grid-2col { grid-template-columns: 1fr; } .post-sidebar { order:2; } }

.post-header-block { margin-bottom: 0; }
.post-meta-top { display:flex; flex-wrap:wrap; gap:$spacing-sm; align-items:center; font-size:$font-size-xs; color:$text-medium; margin-bottom:$spacing-sm; }
.post-date { font-weight:$font-weight-medium; display:block; margin-bottom:$spacing-sm; font-size:$font-size-sm; color:$text-medium; }
.reading-time-inline { opacity:.75; }
.post-meta-stack { display:flex; flex-direction:column; gap:6px; font-size:$font-size-xs; margin-top:-$spacing-sm; }
.post-meta-line { display:flex; flex-wrap:wrap; gap:4px; align-items:baseline; }
.post-meta-label { letter-spacing:0.06em; font-size:10px; font-weight:$font-weight-semibold; color:$text-medium; }
.post-meta-value, .post-category-link { font-size:$font-size-xs; font-weight:$font-weight-medium; color:#000; }
.post-meta-value { color:#000; }
.post-category-link { text-decoration:none; position:relative; padding:0 0 2px; }
.post-category-link:after { content:""; position:absolute; left:0; bottom:0; width:100%; height:1px; background:#000; transform:scaleX(0); transform-origin:left; transition:transform $transition-fast; }
.post-category-link:hover:after, .post-category-link:focus-visible:after { transform:scaleX(1); }
.post-separator { margin:$spacing-xl 0 $spacing-2xl; border:0; border-top:1px solid $border-light; }

.post-category-badge { background:#000; color:#fff; text-decoration:none; padding:4px 12px; border-radius:999px; font-size:$font-size-xs; font-weight:$font-weight-medium; transition:background $transition-fast,color $transition-fast; }
.post-category-badge:hover { background:$accent-color; }

.post-title { font-size: clamp(1.75rem,3vw,2.5rem); line-height:1.1; letter-spacing:-0.02em; margin:0 0 $spacing-xl; }
.post-hero-image-wrapper { margin:0 0 $spacing-xl; border-radius:$border-radius-xl; overflow:hidden; box-shadow:$shadow-lg; }
.post-hero-image { width:100%; display:block; object-fit:cover; aspect-ratio: 16 / 9; background:#f2f2f4; }

.post-content.rich-text { font-size:1rem; line-height:1.65; }
.post-content.rich-text h2 { margin:$spacing-2xl 0 $spacing-md; font-size:clamp(1.5rem,3vw,2.25rem); }
.post-content.rich-text h3 { margin:$spacing-2xl 0 $spacing-md; font-size:clamp(1.25rem,2.4vw,1.75rem); }
.post-content.rich-text p { margin:0; }
.post-content.rich-text ul, .post-content.rich-text ol { padding-left:1.5rem; }
.post-content.rich-text blockquote { margin:0; padding:$spacing-lg $spacing-xl; background:#f7f7f9; border-left:4px solid #000; border-radius:$border-radius-lg; font-style:italic; }

// Sidebar
.post-sidebar { position:sticky; top:120px; }
@media (max-width: 1000px){ .post-sidebar { position:static; top:auto; margin-top:$spacing-3xl; } }
.author-box { background:#fff; border:1px solid $border-light; border-radius:$border-radius-xl; padding:$spacing-xl; box-shadow:$shadow-sm; display:flex; flex-direction:column; gap:$spacing-md; }
.author-avatar { width:120px; height:120px; border-radius:50%; object-fit:cover; border:4px solid #000; box-shadow:$shadow-md; }
.author-heading { font-size:$font-size-2xl; margin:0; }
.author-desc { font-size:$font-size-sm; color:$text-medium; line-height:1.5; }
.author-social-links { margin-top:$spacing-sm; }
.author-social-links .social-icon { fill:#000; }
.author-social-links a:hover .social-icon { fill:$accent-color; }
.author-social-links .social-icon { width:24px; height:24px; display:block; }
.author-social-links a { display:inline-flex; padding:4px; border-radius:8px; transition:background $transition-fast; }
.author-social-links a:hover { background:#f2f2f4; }

// Read Next
.read-next { margin-top:$spacing-4xl; padding-top:$spacing-3xl; border-top:1px solid $border-light; }
.read-next-title { font-size:$font-size-xl; margin:0 0 $spacing-xl; }
.read-next-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:$spacing-xl; }
.read-next-card { background:#fff; border:1px solid $border-light; border-radius:$border-radius-xl; overflow:hidden; box-shadow:$shadow-sm; transition:transform $transition-fast, box-shadow $transition-fast; }
.read-next-link { display:flex; flex-direction:column; color:inherit; text-decoration:none; height:100%; }
.read-next-thumb { aspect-ratio: 16 / 9; background-size:cover; background-position:center; }
.read-next-meta { padding:$spacing-md $spacing-lg $spacing-lg; display:flex; flex-direction:column; gap:$spacing-xs; }
.read-next-card-title { font-size:$font-size-lg; margin:0; line-height:1.3; }
.read-next-date { font-size:$font-size-xs; color:$text-medium; margin:0; }
.read-next-card:hover { transform:translateY(-4px); box-shadow:$shadow-md; }

// (Removed active category indicator styles)

// Blog category bar
.blog-category-bar { margin:0 0 $spacing-lg; }
.blog-category-bar .category-list { list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:$spacing-sm; }
.blog-category-bar .category-link { display:inline-block; text-decoration:none; font-size:$font-size-xs; font-weight:$font-weight-medium; padding:6px 14px; border:1px solid #d8d8dc; border-radius:999px; color:#222; background:#f7f7f9; transition:background $transition-fast,border-color $transition-fast,color $transition-fast; }
.blog-category-bar .category-link:hover { background:#ececef; }
.blog-category-bar .category-link.active { background:#000; color:#fff; border-color:#000; }
.blog-category-bar .category-link:focus-visible { outline:2px solid #000; outline-offset:2px; }

// Project-specific styles
.post-tags { display: flex; flex-wrap: wrap; gap: 8px; }
.post-tag { display: inline-block; font-size: $font-size-xs; font-weight: $font-weight-medium; padding: 4px 8px; background: #f0f0f0; color: #666; border-radius: 4px; }
.post-link { display: inline-flex; align-items: center; gap: 8px; font-size: $font-size-sm; font-weight: $font-weight-medium; color: #007acc; text-decoration: none; }
.post-link:hover { text-decoration: underline; }
.post-link-small { font-size: $font-size-xs; color: #fff; text-decoration: none; }
.post-link-small:hover { text-decoration: underline; }
.post-link-container { margin-top: 8px; }

// Project cards (duplicated from post-card styles for identical appearance)
.project-card {
  position: relative;
  background-size: cover;
  background-position: center;
  aspect-ratio: 3 / 4;
  min-height: 400px; // Fallback for browsers that don't support aspect-ratio
  border-radius: $border-radius-xl;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  box-shadow: $shadow-lg;
  transition: transform $transition-normal, filter $transition-normal, box-shadow $transition-normal;

  &:before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 0%, transparent 30%, rgba(0,0,0,0.8) 100%);
    z-index: 1;
  }

  &:hover {
    transform: translateY(-8px);
    filter: brightness(1.1);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  }
}

.project-card-link {
  position: absolute;
  inset: 0;
  z-index: 2;
}

.project-card-overlay {
  position: absolute;
  bottom: 0;
  z-index: 3;
  width: 100%;
  padding: $spacing-lg $spacing-md;
  display: flex;
  flex-direction: column;
  gap: $spacing-md;
}

.project-card-tags { display: flex; flex-wrap: wrap; gap: $spacing-xs; }

.project-card-title {
  color: #fff;
  font-size: $font-size-base;
  margin: 0;
  margin-top: 0 !important;
  font-weight: $font-weight-semibold;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.project-view-btn {
  position: relative;
  z-index: 4;
  display: inline-block;
  font-size: $font-size-sm;
  color: #fff;
  font-weight: $font-weight-medium;
  padding: 6px 14px;
  border: 1px solid rgba(255,255,255,0.5);
  border-radius: 999px;
  background: transparent;
  transition: all $transition-fast;
  pointer-events: none; // span inside link wrapper; don't block click
}

.project-link-separator {
  margin: 0 4px;
  opacity: 0.65;
}

.post-link-small {
  font-size: $font-size-xs;
  color: #fff;
  text-decoration: none;
}

.post-link-small:hover {
  text-decoration: underline;
}

// Work/Projects page layout (similar to blog)
.work-app,
.projects-app {
  padding: 0;
}

.work-layout,
.projects-layout {
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: $spacing-2xl;
  align-items: start;
}

.work-main,
.projects-main {
  display: flex;
  flex-direction: column;
  gap: $spacing-md;
}

.work-heading,
.projects-heading {
  margin: 0 0 $spacing-md;
  font-size: clamp(1.5rem,3vw,2rem);
}

// Enforce 2 columns for desktop
#projects-grid.post-grid,
#projects-grid.project-grid {
  grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
}

@media (min-width: 900px){
  #projects-grid.post-grid,
  #projects-grid.project-grid {
    grid-template-columns: repeat(2,1fr);
  }
}

.work-sidebar,
.projects-sidebar {
  position: sticky;
  top: 100px;
  display:flex;
  flex-direction: column;
  gap: $spacing-xl;
}

// Project layout (similar to post layout)
.project-layout {
  padding-top: 120px;
}

.project-body-container {
  padding-bottom: $spacing-5xl;
}

.project-grid-2col {
  display:grid;
  grid-template-columns: minmax(0,2fr) minmax(260px,1fr);
  gap:$spacing-4xl;
  align-items:start;
}

@media (max-width: 1000px){
  .project-grid-2col {
    grid-template-columns: 1fr;
  }
  .project-sidebar {
    order:2;
  }
}

.project-header-block {
  margin-bottom: 0;
}

.project-meta-top {
  display:flex;
  flex-wrap:wrap;
  gap:$spacing-sm;
  align-items:center;
  font-size:$font-size-xs;
  color:$text-medium;
  margin-bottom:$spacing-sm;
}

.project-date {
  font-weight:$font-weight-medium;
  display:block;
  margin-bottom:$spacing-sm;
  font-size:$font-size-sm;
  color:$text-medium;
}

.project-meta-stack {
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:$font-size-xs;
  margin-top:-$spacing-sm;
}

.project-meta-line {
  display:flex;
  flex-wrap:wrap;
  gap:4px;
  align-items:baseline;
}

.project-meta-label {
  letter-spacing:0.06em;
  font-size:10px;
  font-weight:$font-weight-semibold;
  color:$text-medium;
}

.project-meta-value {
  font-size:$font-size-xs;
  font-weight:$font-weight-medium;
  color:#000;
}

.project-separator {
  margin:$spacing-xl 0 $spacing-2xl;
  border:0;
  border-top:1px solid $border-light;
}

.project-title {
  font-size: clamp(1.75rem,3vw,2.5rem);
  line-height:1.1;
  letter-spacing:-0.02em;
  margin:0 0 $spacing-xl;
}

.project-hero-image-wrapper {
  margin:0 0 $spacing-xl;
  border-radius:$border-radius-xl;
  overflow:hidden;
  box-shadow:$shadow-lg;
}

.project-hero-image {
  width:100%;
  display:block;
  object-fit:cover;
  aspect-ratio: 16 / 9;
  background:#f2f2f4;
}

.project-content.rich-text {
  font-size:1rem;
  line-height:1.65;
}

.project-content.rich-text h2 {
  margin:$spacing-2xl 0 $spacing-md;
  font-size:clamp(1.5rem,3vw,2.25rem);
}

.project-content.rich-text h3 {
  margin:$spacing-2xl 0 $spacing-md;
  font-size:clamp(1.25rem,2.4vw,1.75rem);
}

.project-content.rich-text p {
  margin:0;
}

.project-content.rich-text ul,
.project-content.rich-text ol {
  padding-left:1.5rem;
}

.project-content.rich-text blockquote {
  margin:0;
  padding:$spacing-lg $spacing-xl;
  background:#f7f7f9;
  border-left:4px solid #000;
  border-radius:$border-radius-lg;
  font-style:italic;
}

// Project sidebar (similar to post sidebar)
.project-sidebar {
  position:sticky;
  top:120px;
}

@media (max-width: 1000px){
  .project-sidebar {
    position:static;
    top:auto;
    margin-top:$spacing-3xl;
  }
}

// Related projects (similar to read next)
.related-projects {
  margin-top:$spacing-4xl;
  padding-top:$spacing-3xl;
  border-top:1px solid $border-light;
}

.related-projects-title {
  font-size:$font-size-xl;
  margin:0 0 $spacing-xl;
}

.related-projects-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
  gap:$spacing-xl;
}

.related-project-card {
  background:#fff;
  border:1px solid $border-light;
  border-radius:$border-radius-xl;
  overflow:hidden;
  box-shadow:$shadow-sm;
  transition:transform $transition-fast, box-shadow $transition-fast;
}

.related-project-link {
  display:flex;
  flex-direction:column;
  color:inherit;
  text-decoration:none;
  height:100%;
}

.related-project-thumb {
  aspect-ratio: 16 / 9;
  background-size:cover;
  background-position:center;
}

.related-project-meta {
  padding:$spacing-md $spacing-lg $spacing-lg;
  display:flex;
  flex-direction:column;
  gap:$spacing-xs;
}

.related-project-title {
  font-size:$font-size-lg;
  margin:0;
  line-height:1.3;
}

.related-project-date {
  font-size:$font-size-xs;
  color:$text-medium;
  margin:0;
}

.related-project-card:hover {
  transform:translateY(-4px);
  box-shadow:$shadow-md;
}

// Responsive adjustments for projects
@media (max-width: 1100px){
  .work-layout,
  .projects-layout {
    gap: $spacing-3xl;
  }
}

@media (max-width: 900px){
  .work-layout,
  .projects-layout {
    grid-template-columns: 1fr;
  }
  .work-sidebar,
  .projects-sidebar {
    position: static;
    order: -1;
  }
}

// Project card styles for work page
.project-card,
.work-card {
  position: relative;
  background-size: cover;
  background-position: center;
  aspect-ratio: 3 / 4;
  min-height: 400px;
  border-radius: $border-radius-xl;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  box-shadow: $shadow-lg;
  transition: transform $transition-normal, filter $transition-normal, box-shadow $transition-normal;

  &:before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.2) 70%);
    z-index: 1;
  }

  &:hover {
    transform: scale(1.02);
    filter: brightness(1.05);
    box-shadow: $shadow-xl;
    .project-view-btn {
      background: #fff;
      color: #000;
      border-color: #fff;
    }
  }
}

.project-card-link,
.work-card-link {
  position: absolute;
  inset: 0;
  z-index: 2;

  .chip {
    color: white;
  }
}

.project-card-overlay,
.work-card-overlay {
  position: absolute;
  bottom: 0;
  z-index: 3;
  width: 100%;
  padding: $spacing-lg $spacing-md;
  display: flex;
  flex-direction: column;
  gap: $spacing-md;
}

.project-card-tags,
.work-card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: $spacing-xs;
}

.project-card-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: $spacing-sm;
  justify-content: center;
}

.project-card-title,
.work-card-title {
  color: #fff;
  font-size: $font-size-base;
  margin: 0;
  margin-top: 0 !important;
  font-weight: $font-weight-semibold;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  line-height: 1.3;
}

.project-card-footer {
  margin-top: auto;
  padding-top: $spacing-sm;
}

.project-view-btn {
  position: relative;
  z-index: 4;
  display: inline-block;
  font-size: $font-size-sm;
  color: #fff;
  font-weight: $font-weight-medium;
  padding: 6px 14px;
  border: 1px solid rgba(255,255,255,0.5);
  border-radius: 999px;
  background: transparent;
  transition: all $transition-fast;
  pointer-events: none;
}

.project-link-separator {
  color: rgba(255,255,255,0.7);
  margin: 0 $spacing-xs;
}

.project-link-small {
  font-size: $font-size-xs;
  color: #fff;
  text-decoration: none;
  font-weight: $font-weight-medium;
  transition: color $transition-fast;
}

.project-link-small:hover {
  color: rgba(255,255,255,0.8);
  text-decoration: underline;
}
